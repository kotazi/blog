+++
date = "2016-10-07T13:38:10+09:00"
draft = false
tags = ["git"]
title = "git rebaseについて"

+++

## リモートブランチとリモート追跡ブランチ

ちょっと洗いざらいしているうえで、けっこう根本的な部分で理解の浅い箇所があるなということに気がついた。

それがリモートブランチとリモート追跡ブランチ違い。

- [git pull と git pull –rebase の違いって？図を交えて説明します！](http://kray.jp/blog/git-pull-rebase/)

Docbaseを開発しているKrayのブログ。<br>
図が最高に分かりやすい。fetch理解する前にリモートブランチとローカルブランチの違いを理解する必要があるということに気づくことができた。

完全にリンク先を読むのが一番なので、改めて説明はしないけれども、下記のようなことを学べた。

- リモート追跡ブランチはローカルにある
- ユーザー自身がリモート追跡ブランチの内容を変更することはできないこと
- `origin/ブランチ名` ってやつはリモート追跡ブランチを指している
- `rebase` はコミットを作り直す(ここがリモートに上げたものに`rebase` すべきでないと言われる理由)
- そして故に、`rebase` 後はコミットのハッシュが変わるため、pushがリジェクトされる (これが `rebase` 後に `force push` が必要になる理由)

ということがわかった上で、最後は運用ルール次第なのかなと思った。<br>
コミット履歴を汚さないために `rebase` を推奨する場合もある。(以前一緒に働いていたロシア人もそうだった。)<br>

そんな中で腑に落ちたのがこれ。<br>

- [git rebaseを使うときのルール](https://yakst.com/ja/posts/18)

簡単にまとめると、gitの履歴は綺麗であるべき。だから個人のリポジトリでは`rebase` も好きに使えば良い。<br>
ただチーム開発においてはなにより、他人のコミットに`rebase` してはいけない。それは他人のコミットを消すということだから(多分ハッシュ値が書き換わるという意味で)。「自分の履歴をきれいに」と 「他人 の履歴をいじるな」。

## その他参考リンク

- [Gitのリモートブランチと追跡ブランチは違うよ](https://www.kaeruspoon.net/articles/1078)
- [Git で「追跡ブランチ」って言うのやめましょう](http://qiita.com/uasi/items/69368c17c79e99aaddbf)
- [gitglossary(7) Manual Page](https://www.kernel.org/pub/software/scm/git/docs/gitglossary.html)
